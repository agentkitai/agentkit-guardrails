services:
  agentgate:
    image: agentgate:latest
    ports:
      - "3002:3002"
    environment:
      - PORT=3002

  agentlens:
    image: agentlens:latest
    ports:
      - "3001:3001"
    environment:
      - PORT=3001
      - WEBHOOK_URL=http://guardrails:3010/webhook
    depends_on:
      - agentgate

  guardrails:
    image: agentkit-guardrails:latest
    ports:
      - "3010:3010"
    volumes:
      - ./config.yaml:/app/config.yaml:ro
    command: ["node", "dist/index.js", "/app/config.yaml"]
    depends_on:
      - agentgate
